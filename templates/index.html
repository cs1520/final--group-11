<html>

<head>
    <title>Which Wings</title>
    <link href="/static/style.css" rel="stylesheet">
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="1092993779160-b5l7640cfd4e0te7b50o3sopu4ledgjo.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="/static/logout.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>

<!--
<div class="topnav">
    <a class="active" href="/">Home</a>
    <a href="/search">Search</a>
    <a href="/profile">Profile</a>
    <div class = "navbar-right">        
        <a href="/login">Login</a>
        <a href="/logout" onclick="signOut();">Logout</a>
    </div>
</div>
-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>


    

    

<body>

   <div id = "sidebar" class = "sidebar">
        <div class="tBars" onclick="toggleSideBar()">
            <span></span> 
            <span></span>
            <span></span>            
        </div>
        
        <div class="row justify-content-center"><a href="/">Home</a></div>
        <div class="row justify-content-center"><a href="/search">Search</a></div>
        <div class="row justify-content-center"><a href="/profile">Profile</a></div>
        <div class = "row navbar-right justify-content-center">
            {% if session['logged_in']  %}
            <a href="/logout" onclick="signOut();">Logout</a>
            {% else %}
            <a href="/login">Login</a>
            {% endif %}
        </div>        
        
    </div>

    


 <div class="searchMid">  
  <div class= "row justify-content-center" style= "padding-top: 20px; -webkit-text-stroke-width: .10px; -webkit-text-stroke-color: rgb(255, 255, 255); color:black">
    <h1>Welcome to Which Wings</h1>
  </div>

<div class = "container" style="max-width: 800px;">
    <div class = "row justify-content-center" style= "padding-bottom: 20px;-webkit-text-stroke-width: .10px; -webkit-text-stroke-color: rgb(255, 255, 255); color:black"><h2>Your top picks:</h2></div>
    
    <div class = "row justify-content-around">
    {% for w in picks %}
    <div class = "col-sm-5 mb-3"><div class = "card">
        <h4><b>{{w.name}} </b></h4>
        <p> {{w.description}} </p>

        <div class = "row justify-content-center rate" style = "font-size: 25; cursor: default;">
        {% if w['name'] in rat_dic.keys() %}
            {% if rat_dic[w['name']] == 1 %}
            <div class = "col-xs-1" id = "star1_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star2_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star3_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star4_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star5_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
        
            {% elif rat_dic[w['name']] == 2 %}
            <div class = "col-xs-1" id = "star1_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star2_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star3_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star4_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star5_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>

            {% elif rat_dic[w['name']] == 3 %}
            <div class = "col-xs-1" id = "star1_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star2_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star3_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star4_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star5_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>

            {% elif rat_dic[w['name']] == 4 %}
            <div class = "col-xs-1" id = "star1_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star2_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star3_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star4_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star5_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
        
            {% elif rat_dic[w['name']] == 5 %}
            <div class = "col-xs-1" id = "star1_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star2_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star3_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star4_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
            <div class = "col-xs-1" id = "star5_{{w['name']}}" onclick = ratingBuisness(this)>&starf;</div>
        
            {% endif %}
        {% else %}
            <div class = "col-xs-1" id = "star1_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star2_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star3_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star4_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
            <div class = "col-xs-1" id = "star5_{{w['name']}}" onclick = ratingBuisness(this)>&star;</div>
        {% endif %}
    </div> 

    </div></div>


    {% endfor %}
    </div>
</div>
</div> 

  </div> 

</body>
  <div class="form-popup-radio" id="ratingForm">
        <form action="/action_page.php" class="form-container-radio">
            <h5>Please rate the wing (on a scale of 1-5)!</h5>
            <input type="radio" id="1" name="rating" value="1">
            <label for="1">1 :(</label><br>
            <input type="radio" id="2" name="rating" value="2">
            <label for="2">2</label><br>
            <input type="radio" id="3" name="rating" value="3">
            <label for="3">3</label><br>
            <input type="radio" id="4" name="rating" value="4">
            <label for="4">4</label><br>
            <input type="radio" id="5" name="rating" value="5">
            <label for="5">5 :)</label>
            <p></p>
            <button type="button" class="btn" onclick="submitRatingForm()">Submit</button>
            <button type="button" class="btn cancel" onclick="closeRatingForm()">Close</button>
        </form>
    </div>

<script>
    function openRatingForm() {         
        document.getElementById("ratingForm").style.display = "block";
    }
    function closeRatingForm() {
        document.getElementById("ratingForm").style.display = "none";
    }
    /*function checkWingName() {
        return document.getElementByName("wingwing");
    }   */ 
    function checkRating() {
        rating = "0"
        if (document.getElementById("1").checked) {
            rating = "1";
        }
        else if (document.getElementById("2").checked) {
            rating = "2";
        }
        else if (document.getElementById("3").checked) {
            rating = "3";
        }
        else if (document.getElementById("4").checked) {
            rating = "4";
        }
        else if (document.getElementById("5").checked) {
            rating = "5";
        }
        return rating;
    }    
    function submitRatingForm() {
        closeRatingForm()
        rating = checkRating();    
        //wingName = checkWingName();
        $.ajax(
        {
            type:'POST',
            url:'/rating-results?rating='+rating, //+'&wingName='+wingName,
            dataType: "json",
            success:function(data){   
                alert("solid solid solid");                
            }
        }
        ).done(function(){
        });           
    }
    //check if user has rated wing and wipe their rating if they did 
    //store rating 
    //store count of ratings 
    //store total stars 
</script>
<script>
        var on = false;
        function toggleSideBar(){
            var side = document.getElementById('sidebar');
            
            if(on)
            {
                console.log("off");
                side.style.left = "-200px";
                on = false;
            }
            else{
                console.log("on");
                side.style.left = "0px";
                on = true;
            }        
        }
        
    </script>

    <!-- Bootstrap stuff 
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    -->
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</html>